
<div class="container" style="margin-top:26px;" *ngIf="repair !== undefined">

  <div class="left" style="float: left; width: 40%;">

    <h3 style="font-weight: 500; text-decoration: underline;">Operations</h3>

    <div cdkDropList class="example-list mt-20" (cdkDropListDropped)="drop($event)">
      <mat-card class="example-box" *ngFor="let operation of operationsList, index as i" cdkDrag cdkDragHandle>
        <div class="drag-index">{{i+1}}</div>
          <div class="w-100 drag-content">
            <mat-checkbox  color="primary" [(ngModel)]="operation.done">{{operation.label}}</mat-checkbox>
          </div>
      </mat-card>
    </div>
    <div class="payments">
      <div class="inputs">
       <h3>Effectuer un paiment</h3>
       <form [formGroup]="form">
         <mat-form-field>
             <mat-label>Montant</mat-label>
             <input matInput type="number" #amountInput [(ngModel)]="repair.cost" formControlName="amount">
             <mat-error>Champ requis</mat-error>
         </mat-form-field>
       </form>
       <button mat-raised-button color="primary" (click)="onPay(form)">Payer</button>
     </div>
     <div class="list" *ngIf="repair.paymentStatus === 'Paye'">
       <h3>Paiement effectué le :{{payment.createdAt}}</h3>
       <button mat-raised-button color="primary">Voir la facture</button>
     </div>
    </div>
  </div>
  <hr style="width:1px;text-align:center;margin-left:0;margin-right: 0;">
  <div class="right" style="float: right;width: 40%;">
    <h3 style="font-weight: 500; text-decoration: underline;">Statut</h3>
    <mat-button-toggle-group [(ngModel)]="repair.status" style="width: 100%;">
      <mat-button-toggle value="En cours de reparation">En cours de reparation</mat-button-toggle>
      <mat-button-toggle value="En cours de verification">En cours de verification</mat-button-toggle>
      <mat-button-toggle value="Arecuperer" [disabled]="!disableChecker()">Reparé</mat-button-toggle>
    </mat-button-toggle-group>
    <mat-form-field appearance="fill" [style.width.%]="100"style="margin-top:30px; ">
      <mat-label>Note</mat-label>
      <textarea [(ngModel)]="repair.note" matInput style="height:200px;"></textarea>
    </mat-form-field>
  </div>
</div>




